class Solution {

    // Find first occurrence of target
    public int firstOccur(int low, int high, int target, int[] nums) {

        int ans = -1;

        // Standard binary search
        while (low <= high) {

            int mid = low + (high - low) / 2;

            if (nums[mid] == target) {
                ans = mid;          // store answer
                high = mid - 1;     // move left to find earlier occurrence
            }
            else if (nums[mid] < target) {
                low = mid + 1;
            }
            else {
                high = mid - 1;
            }
        }

        return ans;
    }

    // Find last occurrence of target
    public int lastOccur(int low, int high, int target, int[] nums) {

        int ans = -1;

        // Standard binary search
        while (low <= high) {

            int mid = low + (high - low) / 2;

            if (nums[mid] == target) {
                ans = mid;        // store answer
                low = mid + 1;    // move right to find later occurrence
            }
            else if (nums[mid] < target) {
                low = mid + 1;
            }
            else {
                high = mid - 1;
            }
        }

        return ans;
    }

    public int[] searchRange(int[] nums, int target) {

        int[] result = new int[]{-1, -1};

        if (nums.length == 0)
            return result;

        result[0] = firstOccur(0, nums.length - 1, target, nums);
        result[1] = lastOccur(0, nums.length - 1, target, nums);

        return result;
    }
}
